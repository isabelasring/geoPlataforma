<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del proyecto - GeoPlataforma</title>
    <script>(function(){var t=localStorage.getItem('geoPlataforma-theme');if(t==='dark')document.documentElement.setAttribute('data-theme','dark');})();</script>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/proyecto-detalle.css">
</head>
<body>

    <nav class="navbar scrolled" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="../img%3Avideo/isologo-01.png" alt="GeoPlataforma" class="logo-img">
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li class="nav-dropdown">
                    <button type="button" class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Servicios</button>
                    <ul class="nav-dropdown-menu">
                        <li><a href="ciudades.html">Ciudades</a></li>
                        <li><a href="industria.html">Industria</a></li>
                        <li><a href="#">Infraestructura</a></li>
                    </ul>
                </li>
                <li class="nav-dropdown">
                    <button type="button" class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Proyectos</button>
                    <ul class="nav-dropdown-menu">
                        <li><a href="ciudades-proyectos.html">Ciudades</a></li>
                        <li><a href="industria-proyectos.html">Industria</a></li>
                        <li><a href="#">Infraestructura</a></li>
                    </ul>
                </li>
                <li><a href="about.html">Nosotros</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
            <div class="nav-theme-wrap">
                <button type="button" class="nav-theme-btn" id="theme-toggle" aria-label="Usar modo oscuro" title="Modo oscuro">
                    <span class="nav-theme-icon nav-theme-icon-sun" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg></span>
                    <span class="nav-theme-icon nav-theme-icon-moon" aria-hidden="true" hidden><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg></span>
                </button>
            </div>
        </div>
    </nav>

    <main class="proyecto-detalle-page">
        <a href="#" class="proyecto-detalle-back" id="proyecto-detalle-back" aria-label="Volver">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M14 12H8"/><path d="M10 8l-2 4 2 4"/></svg>
        </a>

        <div class="proyecto-detalle-layout">
            <div class="proyecto-detalle-media-col">
                <div class="proyecto-detalle-media proyecto-detalle-media-single" id="proyecto-media-single">
                    <span class="proyecto-detalle-media-placeholder">Imagen o video del proyecto</span>
                </div>
                <div class="proyecto-detalle-carousel-wrap" id="proyecto-media-carousel" style="display: none;">
                    <button type="button" class="proyecto-detalle-carousel-prev" aria-label="Anterior"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 18l-6-6 6-6"/></svg></button>
                    <div class="proyecto-detalle-carousel">
                        <div class="proyecto-detalle-carousel-track" id="proyecto-carousel-track"></div>
                    </div>
                    <button type="button" class="proyecto-detalle-carousel-next" aria-label="Siguiente"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18l6-6-6-6"/></svg></button>
                </div>
                <div class="proyecto-detalle-meta">
                    <p class="proyecto-detalle-meta-item"><strong>Categoría:</strong> <span id="proyecto-categoria">industria</span></p>
                    <p class="proyecto-detalle-meta-item"><strong>Año:</strong> <span id="proyecto-ano">2023</span></p>
                    <p class="proyecto-detalle-meta-item"><strong>Cliente:</strong> <span id="proyecto-cliente">Cliente Industrial Ejemplo</span></p>
                </div>
            </div>
            <div class="proyecto-detalle-content-col">
                <h1 class="proyecto-detalle-title" id="proyecto-titulo">Proyecto Industria</h1>
                <section class="proyecto-detalle-desc">
                    <h2 class="proyecto-detalle-desc-label">Descripción del proyecto</h2>
                    <p class="proyecto-detalle-desc-text" id="proyecto-descripcion">
                        Descripción detallada del proyecto. Aquí puede incluir objetivos, metodología, resultados y cualquier información relevante para el cliente.
                    </p>
                </section>
            </div>
        </div>
    </main>

    <script src="data/refineria-cartagena-images.js"></script>
    <script src="data/viva-magdalena-images.js"></script>
    <script src="data/amva-usb-images.js"></script>
    <script src="data/arclad-images.js"></script>
    <script src="data/segovia-images.js"></script>
    <script src="data/ccr-palagua-images.js"></script>
    <script src="data/colcafe-images.js"></script>
    <script src="data/cerrejon-images.js"></script>
    <script src="data/mineros-bic-images.js"></script>
    <script src="data/pepsico-images.js"></script>
    <script src="data/spia-images.js"></script>
    <script>
        (function() {
            var params = new URLSearchParams(window.location.search);
            var seccion = params.get('seccion') || 'industria';
            var proyecto = params.get('proyecto') || '';
            var backLink = document.getElementById('proyecto-detalle-back');
            var backServicio = (proyecto === 'refineria-cartagena' || proyecto === 'viva-magdalena' || proyecto === 'arclad' || proyecto === 'colcafe' || proyecto === 'pepsico') ? 'control-ruido' : (proyecto === 'amva-usb' ? 'iot' : (proyecto === 'segovia' ? 'medicion-vibraciones' : (proyecto === 'ccr-palagua' ? 'fotogrametria' : (proyecto === 'cerrejon' || proyecto === 'mineros-bic' ? 'holografia-acustica' : (proyecto === 'spia' ? 'medicion-ruido-subacuatico' : '')))));
            backLink.href = seccion === 'ciudades' ? 'ciudades-proyectos.html' + (backServicio ? '?servicio=' + backServicio : '') : 'industria-proyectos.html' + (backServicio ? '?servicio=' + backServicio : '');

            var titulo = params.get('titulo') || (seccion === 'ciudades' ? 'Proyecto Ciudades' : 'Proyecto Industria');
            var categoria = params.get('categoria') || seccion;
            var ano = params.get('ano') || '2023';
            var cliente = params.get('cliente') || (seccion === 'ciudades' ? 'Cliente Ejemplo' : 'Cliente Industrial Ejemplo');
            var desc = params.get('desc');
            if (!desc) {
                if (proyecto === 'refineria-cartagena')
                    desc = 'Proyecto integral de control y modelación acústica en Refinería Cartagena: mediciones in situ, mapas de ruido, identificación de fuentes y planes de mitigación para cumplimiento normativo y mejora del entorno laboral. Combinamos holografía acústica, modelación numérica y analítica geoespacial para entregar soluciones que reducen la exposición al ruido y optimizan la operación industrial.';
                else if (proyecto === 'viva-magdalena')
                    desc = 'Proyecto de control de ruido y evaluación acústica en Viva Magdalena: mediciones en campo, mapas de ruido, identificación de fuentes y propuestas de mitigación para cumplimiento ambiental y mejora de la calidad sonora del entorno. Integramos modelación predictiva y mediciones in situ para entregar diagnósticos y planes de acción alineados con la normativa vigente.';
                else if (proyecto === 'amva-usb')
                    desc = 'Proyecto de monitoreo urbano y soluciones geoespaciales para el Área Metropolitana del Valle de Aburrá (AMVA): mediciones ambientales, mapas de ruido, sensores IoT y plataformas de información territorial para la gestión inteligente de la ciudad. Integramos datos en tiempo real, analítica geoespacial y acústica para apoyar la toma de decisiones y el cumplimiento normativo en entornos urbanos.';
                else if (proyecto === 'arclad')
                    desc = 'Proyecto integral de control de ruido, clasificación de fuentes y modelación acústica industrial para ARCLAD: mediciones in situ, identificación de fuentes de ruido, mapas de ruido y modelación predictiva para cumplimiento normativo y mejora del entorno laboral. Combinamos medición, clasificación de fuentes y modelación numérica para entregar soluciones que reducen la exposición al ruido y optimizan la operación.';
                else if (proyecto === 'segovia')
                    desc = 'Proyecto de medición de vibraciones industriales en Segovia: mediciones in situ con equipos especializados, análisis de señales y espectros, identificación de fuentes de vibración y evaluación de impacto para cumplimiento normativo y mejora del entorno. Integramos medición de vibraciones con analítica geoespacial para entregar diagnósticos y recomendaciones técnicas.';
                else if (proyecto === 'ccr-palagua')
                    desc = 'Proyecto de fotogrametría y levantamiento geoespacial en CCR Palagua: captura de imágenes para modelado 3D, ortofotos y productos cartográficos para gestión de activos industriales. Combinamos vuelos con drone, procesamiento fotogramétrico y analítica geoespacial para entregar soluciones de medición y monitoreo del territorio.';
                else if (proyecto === 'colcafe')
                    desc = 'Proyecto integral de control de ruido, holografía acústica y medición de vibraciones para Colcafé: mediciones in situ, identificación de fuentes con holografía acústica, análisis de vibraciones y planes de mitigación para cumplimiento normativo y mejora del entorno laboral. Combinamos técnicas de diagnóstico acústico y de vibraciones para entregar soluciones que reducen la exposición y optimizan la operación industrial.';
                else if (proyecto === 'cerrejon')
                    desc = 'Proyecto de holografía acústica para Cerrejón: identificación y localización de fuentes de ruido mediante técnicas de holografía acústica, mediciones in situ y análisis de mapas de intensidad sonora para cumplimiento normativo y mejora del entorno laboral en operaciones mineras. Combinamos medición avanzada y visualización espacial del ruido para entregar diagnósticos y planes de mitigación.';
                else if (proyecto === 'mineros-bic')
                    desc = 'Proyecto de holografía acústica para Mineros BIC: identificación y localización de fuentes de ruido mediante técnicas de holografía acústica, mediciones in situ y análisis de mapas de intensidad sonora para cumplimiento normativo y mejora del entorno laboral. Combinamos medición avanzada y visualización espacial del ruido para entregar diagnósticos y planes de mitigación.';
                else if (proyecto === 'pepsico')
                    desc = 'Proyecto integral de control de ruido, clasificación de fuentes, modelación acústica y fotogrametría para PepsiCo: mediciones in situ, identificación de fuentes de ruido, mapas de ruido, modelación predictiva y levantamientos geoespaciales para cumplimiento normativo y mejora del entorno laboral. Combinamos control de ruido, clasificación de fuentes, modelación numérica y fotogrametría para entregar soluciones que reducen la exposición al ruido y optimizan la operación industrial.';
                else if (proyecto === 'spia')
                    desc = 'Proyecto de medición y modelación de ruido subacuático para SPIA: mediciones in situ en entornos acuáticos, caracterización de fuentes de ruido subacuático, modelación predictiva y análisis de impacto para cumplimiento normativo y gestión ambiental. Combinamos medición de ruido subacuático y modelación numérica para entregar diagnósticos y planes de mitigación en ambientes marinos y fluviales.';
                else
                    desc = 'Descripción detallada del proyecto. Aquí puede incluir objetivos, metodología, resultados y cualquier información relevante para el cliente.';
            }
            if (proyecto === 'refineria-cartagena') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Refinería de Cartagena';
            }
            if (proyecto === 'viva-magdalena') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Viva Magdalena';
            }
            if (proyecto === 'amva-usb') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'AMVA';
            }
            if (proyecto === 'arclad') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'ARCLAD';
            }
            if (proyecto === 'segovia') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Segovia';
            }
            if (proyecto === 'ccr-palagua') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'CCR Palagua';
            }
            if (proyecto === 'colcafe') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Colcafé';
            }
            if (proyecto === 'cerrejon') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Cerrejón';
            }
            if (proyecto === 'mineros-bic') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'Mineros BIC';
            }
            if (proyecto === 'pepsico') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'PepsiCo';
            }
            if (proyecto === 'spia') {
                ano = params.get('ano') || '2024';
                cliente = params.get('cliente') || 'SPIA';
            }

            document.getElementById('proyecto-titulo').textContent = decodeURIComponent(titulo.replace(/\+/g, ' '));
            document.getElementById('proyecto-categoria').textContent = categoria;
            document.getElementById('proyecto-ano').textContent = ano;
            document.getElementById('proyecto-cliente').textContent = decodeURIComponent((cliente || '').replace(/\+/g, ' '));
            document.getElementById('proyecto-descripcion').textContent = decodeURIComponent((desc || '').replace(/\+/g, ' '));

            var images = [];
            var base = '';
            if (proyecto === 'refineria-cartagena' && typeof REFINERIA_CARTAGENA_IMAGES !== 'undefined' && REFINERIA_CARTAGENA_IMAGES.length) {
                images = REFINERIA_CARTAGENA_IMAGES;
                base = '../proyectos/industria/refineriaCartagena/';
            } else if (proyecto === 'viva-magdalena' && typeof VIVA_MAGDALENA_IMAGES !== 'undefined' && VIVA_MAGDALENA_IMAGES.length) {
                images = VIVA_MAGDALENA_IMAGES;
                base = '../proyectos/industria/vivaMagdalena/';
            } else if (proyecto === 'amva-usb' && typeof AMVA_USB_IMAGES !== 'undefined' && AMVA_USB_IMAGES.length) {
                images = AMVA_USB_IMAGES;
                base = '../proyectos/ciudades/AMVA-USB/';
            } else if (proyecto === 'arclad' && typeof ARCLAD_IMAGES !== 'undefined' && ARCLAD_IMAGES.length) {
                images = ARCLAD_IMAGES;
                base = '../proyectos/industria/ARCLAD/';
            } else if (proyecto === 'segovia' && typeof SEGOVIA_IMAGES !== 'undefined' && SEGOVIA_IMAGES.length) {
                images = SEGOVIA_IMAGES;
                base = '../proyectos/industria/segovia/';
            } else if (proyecto === 'ccr-palagua' && typeof CCR_PALAGUA_IMAGES !== 'undefined' && CCR_PALAGUA_IMAGES.length) {
                images = CCR_PALAGUA_IMAGES;
                base = '../proyectos/industria/ccrPalagua/';
            } else if (proyecto === 'colcafe' && typeof COLCAFE_IMAGES !== 'undefined' && COLCAFE_IMAGES.length) {
                images = COLCAFE_IMAGES;
                base = '../proyectos/industria/colcafe/';
            } else if (proyecto === 'cerrejon' && typeof CERREJON_IMAGES !== 'undefined' && CERREJON_IMAGES.length) {
                images = CERREJON_IMAGES;
                base = '../proyectos/industria/cerrejon/';
            } else if (proyecto === 'mineros-bic' && typeof MINEROS_BIC_IMAGES !== 'undefined' && MINEROS_BIC_IMAGES.length) {
                images = MINEROS_BIC_IMAGES;
                base = '../proyectos/industria/minerosBic/';
            } else if (proyecto === 'pepsico' && typeof PEPSICO_IMAGES !== 'undefined' && PEPSICO_IMAGES.length) {
                images = PEPSICO_IMAGES;
                base = '../proyectos/industria/pepsico/';
            } else if (proyecto === 'spia' && typeof SPIA_IMAGES !== 'undefined' && SPIA_IMAGES.length) {
                images = SPIA_IMAGES;
                base = '../proyectos/industria/spia/';
            }
            if (images.length && base) {
                var single = document.getElementById('proyecto-media-single');
                var carouselWrap = document.getElementById('proyecto-media-carousel');
                var track = document.getElementById('proyecto-carousel-track');
                single.style.display = 'none';
                carouselWrap.style.display = 'flex';
                images.forEach(function(name) {
                    var slide = document.createElement('div');
                    slide.className = 'proyecto-detalle-carousel-slide';
                    slide.style.backgroundImage = "url('" + base + encodeURIComponent(name) + "')";
                    track.appendChild(slide);
                });
                var slides = track.querySelectorAll('.proyecto-detalle-carousel-slide');
                var n = slides.length;
                track.style.width = (n * 100) + '%';
                slides.forEach(function(s) { s.style.flex = '0 0 ' + (100 / n) + '%'; });
                var idx = 0;
                function updateCarousel() {
                    track.style.transform = 'translateX(-' + (idx * (100 / n)) + '%)';
                }
                document.querySelector('.proyecto-detalle-carousel-prev').addEventListener('click', function() {
                    idx = idx <= 0 ? n - 1 : idx - 1;
                    updateCarousel();
                });
                document.querySelector('.proyecto-detalle-carousel-next').addEventListener('click', function() {
                    idx = idx >= n - 1 ? 0 : idx + 1;
                    updateCarousel();
                });
            }
        })();
    </script>
    <script>
        document.querySelectorAll('.nav-dropdown-toggle').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                var parent = this.closest('.nav-dropdown');
                var isOpen = parent.classList.contains('open');
                document.querySelectorAll('.nav-dropdown').forEach(function(d) { d.classList.remove('open'); });
                if (!isOpen) parent.classList.add('open');
                btn.setAttribute('aria-expanded', !isOpen);
            });
        });
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.nav-dropdown')) {
                document.querySelectorAll('.nav-dropdown').forEach(function(d) { d.classList.remove('open'); });
                document.querySelectorAll('.nav-dropdown-toggle').forEach(function(b) { b.setAttribute('aria-expanded', 'false'); });
            }
        });
    </script>
    <script src="../js/theme.js"></script>
</body>
</html>
